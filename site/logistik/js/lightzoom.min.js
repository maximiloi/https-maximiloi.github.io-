!function(i,t,n,e){"use strict";var o="lightzoom",s={speed:400,imgPadding:10,overlayOpacity:"0.5",viewTitle:!1,isOverlayClickClosing:!1,isWindowClickClosing:!1,isEscClosing:!1};function d(t,n){this.element=t,this.settings=i.extend({},s,n),this._defaults=s,this._name=o,this.init()}i.extend(d.prototype,{init:function(){var t=this;t.build(),i(n).on("click","#lz-close",function(i){i.preventDefault(),t.closeZoom()}),t.settings.isWindowClickClosing?i(n).on("click","#lz-container",function(i){t.closeZoom()}):t.settings.isOverlayClickClosing&&i(n).on("click","#lz-overlay",function(i){t.closeZoom()}),t.settings.isEscClosing&&i(n).keydown(function(i){27===i.which&&t.closeZoom()}),t.resize()},build:function(){var t=this;i(this.element).on("click",function(n){n.preventDefault(),i("body").append('<div id="lz-container">                 <div id="lz-box">                   <div id="lz-overlay"></div>                 </div>                 <div id="loading-center">                   <div id="loading-center-absolute">                     <div class="object" id="object_one"></div>                     <div class="object" id="object_two"></div>                     <div class="object" id="object_three"></div>                  </div>                 </div>               </div>');var e,o=i("#lz-box"),s=i(this).children("img"),d=i(this).attr("href"),a=s.attr("title");e={opacity:t.settings.overlayOpacity},i("#lz-overlay").css(e),i("#lz-container").fadeIn({display:"block"}),i(new Image).attr("src",d).on("load",function(){o.append('<img src="'+d+'">'),t.showTitle(a),t.setPadding(a),t.setDim(),o.append('<a href="#" id="lz-close" title="Close">Close</a>'),i("#loading-center").remove(),i("#lz-box img").animate({opacity:1},t.settings.speed)})})},showTitle:function(t){this.settings.viewTitle&&t&&i("#lz-box").append("<p>"+t+"</p>")},setPadding:function(t){var n,e=this.settings.imgPadding>0?"#FFF":"none";n={padding:this.settings.viewTitle&&t?this.settings.imgPadding+"px "+this.settings.imgPadding+"px "+(this.settings.imgPadding+30)+"px "+this.settings.imgPadding+"px":this.settings.imgPadding,backgroundColor:e},i("#lz-box img").css(n)},setDim:function(){var n,e,o;(t.innerWidth?t.innerWidth:i(t).width())>(t.innerHeight?t.innerHeight:i(t).height())?(n="100%",e="80%"):(n="80%",e="100%"),"onorientationchange"in t&&t.addEventListener("orientationchange",function(){0===t.orientation?(n="80%",e="100%"):90!==t.orientation&&-90!==t.orientation||(n="100%",e="80%")},!1),o={maxWidth:n,maxHeight:e},i("#lz-box img").css(o)},closeZoom:function(){var t=this;i("#lz-container").fadeOut(t.settings.speed,function(){t.destroy()})},resize:function(){var n=this;i(t).resize(function(){n.setDim()}).resize()},destroy:function(){i("#lz-container").remove()}}),i.fn[o]=function(t){return this.each(function(){i.data(this,"plugin_"+o)||i.data(this,"plugin_"+o,new d(this,t))})}}(jQuery,window,document);